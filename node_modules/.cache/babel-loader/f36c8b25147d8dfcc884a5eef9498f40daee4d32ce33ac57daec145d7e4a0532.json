{"ast":null,"code":"import{createContext,useContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const WatchlistContext=/*#__PURE__*/createContext();export function WatchlistProvider(_ref){let{children}=_ref;const[watchlist,setWatchlist]=useState(()=>{const savedWatchlist=JSON.parse(localStorage.getItem(\"watchlist\"));return savedWatchlist||[];});const[watchedlist,setWatchedlist]=useState(()=>{const savedWatchedlist=JSON.parse(localStorage.getItem(\"watchedlist\"));return savedWatchedlist||[];});useEffect(()=>{localStorage.setItem(\"watchlist\",JSON.stringify(watchlist));},[watchlist]);useEffect(()=>{localStorage.setItem(\"watchedlist\",JSON.stringify(watchedlist));},[watchedlist]);function addToWatchlist(movie){setWatchlist(prevList=>{return prevList.some(m=>m.imdbID===movie.imdbID)?prevList:[...prevList,movie];});}function addToWatched(movie){setWatchlist(prevList=>prevList.filter(mov=>mov.imdbID!==movie.imdbID));setWatchedlist(prevList=>prevList.some(mov=>mov.imdbID===movie.imdbID)?prevList:[...prevList,movie]);}function deleteFromWatchList(imdbID){setWatchlist(prevList=>prevList.filter(movie=>movie.imdbID!==imdbID));}return/*#__PURE__*/_jsx(WatchlistContext.Provider,{value:{watchlist,watchedlist,addToWatchlist,addToWatched,deleteFromWatchList},children:children});}export function useWatchlist(){return useContext(WatchlistContext);}","map":{"version":3,"names":["createContext","useContext","useState","useEffect","jsx","_jsx","WatchlistContext","WatchlistProvider","_ref","children","watchlist","setWatchlist","savedWatchlist","JSON","parse","localStorage","getItem","watchedlist","setWatchedlist","savedWatchedlist","setItem","stringify","addToWatchlist","movie","prevList","some","m","imdbID","addToWatched","filter","mov","deleteFromWatchList","Provider","value","useWatchlist"],"sources":["/Users/nataliia/Desktop/MoviesNight/movies-night/src/context/WatchlistContext.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\n\nconst WatchlistContext = createContext();\n\nexport function WatchlistProvider({ children }) {\n  const [watchlist, setWatchlist] = useState(() => {\n    const savedWatchlist = JSON.parse(localStorage.getItem(\"watchlist\"));\n    return savedWatchlist || [];\n  });\n  const [watchedlist, setWatchedlist] = useState(() => {\n    const savedWatchedlist = JSON.parse(localStorage.getItem(\"watchedlist\"));\n    return savedWatchedlist || [];\n  });\n  useEffect(() => {\n    localStorage.setItem(\"watchlist\", JSON.stringify(watchlist));\n  }, [watchlist]);\n  useEffect(() => {\n    localStorage.setItem(\"watchedlist\", JSON.stringify(watchedlist));\n  }, [watchedlist]);\n\n  function addToWatchlist(movie) {\n    setWatchlist((prevList) => {\n      return prevList.some((m) => m.imdbID === movie.imdbID)\n        ? prevList\n        : [...prevList, movie];\n    });\n  }\n  function addToWatched(movie) {\n    setWatchlist((prevList) =>\n      prevList.filter((mov) => mov.imdbID !== movie.imdbID)\n    );\n    setWatchedlist((prevList) =>\n      prevList.some((mov) => mov.imdbID === movie.imdbID)\n        ? prevList\n        : [...prevList, movie]\n    );\n  }\n  function deleteFromWatchList(imdbID) {\n    setWatchlist((prevList) =>\n      prevList.filter((movie) => movie.imdbID !== imdbID)\n    );\n  }\n\n  return (\n    <WatchlistContext.Provider\n      value={{\n        watchlist,\n        watchedlist,\n        addToWatchlist,\n        addToWatched,\n        deleteFromWatchList,\n      }}\n    >\n      {children}\n    </WatchlistContext.Provider>\n  );\n}\n\nexport function useWatchlist() {\n  return useContext(WatchlistContext);\n}\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvE,KAAM,CAAAC,gBAAgB,cAAGN,aAAa,CAAC,CAAC,CAExC,MAAO,SAAS,CAAAO,iBAAiBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC5C,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,IAAM,CAC/C,KAAM,CAAAU,cAAc,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CACpE,MAAO,CAAAJ,cAAc,EAAI,EAAE,CAC7B,CAAC,CAAC,CACF,KAAM,CAACK,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,IAAM,CACnD,KAAM,CAAAiB,gBAAgB,CAAGN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CACxE,MAAO,CAAAG,gBAAgB,EAAI,EAAE,CAC/B,CAAC,CAAC,CACFhB,SAAS,CAAC,IAAM,CACdY,YAAY,CAACK,OAAO,CAAC,WAAW,CAAEP,IAAI,CAACQ,SAAS,CAACX,SAAS,CAAC,CAAC,CAC9D,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CACfP,SAAS,CAAC,IAAM,CACdY,YAAY,CAACK,OAAO,CAAC,aAAa,CAAEP,IAAI,CAACQ,SAAS,CAACJ,WAAW,CAAC,CAAC,CAClE,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,QAAS,CAAAK,cAAcA,CAACC,KAAK,CAAE,CAC7BZ,YAAY,CAAEa,QAAQ,EAAK,CACzB,MAAO,CAAAA,QAAQ,CAACC,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,MAAM,GAAKJ,KAAK,CAACI,MAAM,CAAC,CAClDH,QAAQ,CACR,CAAC,GAAGA,QAAQ,CAAED,KAAK,CAAC,CAC1B,CAAC,CAAC,CACJ,CACA,QAAS,CAAAK,YAAYA,CAACL,KAAK,CAAE,CAC3BZ,YAAY,CAAEa,QAAQ,EACpBA,QAAQ,CAACK,MAAM,CAAEC,GAAG,EAAKA,GAAG,CAACH,MAAM,GAAKJ,KAAK,CAACI,MAAM,CACtD,CAAC,CACDT,cAAc,CAAEM,QAAQ,EACtBA,QAAQ,CAACC,IAAI,CAAEK,GAAG,EAAKA,GAAG,CAACH,MAAM,GAAKJ,KAAK,CAACI,MAAM,CAAC,CAC/CH,QAAQ,CACR,CAAC,GAAGA,QAAQ,CAAED,KAAK,CACzB,CAAC,CACH,CACA,QAAS,CAAAQ,mBAAmBA,CAACJ,MAAM,CAAE,CACnChB,YAAY,CAAEa,QAAQ,EACpBA,QAAQ,CAACK,MAAM,CAAEN,KAAK,EAAKA,KAAK,CAACI,MAAM,GAAKA,MAAM,CACpD,CAAC,CACH,CAEA,mBACEtB,IAAA,CAACC,gBAAgB,CAAC0B,QAAQ,EACxBC,KAAK,CAAE,CACLvB,SAAS,CACTO,WAAW,CACXK,cAAc,CACdM,YAAY,CACZG,mBACF,CAAE,CAAAtB,QAAA,CAEDA,QAAQ,CACgB,CAAC,CAEhC,CAEA,MAAO,SAAS,CAAAyB,YAAYA,CAAA,CAAG,CAC7B,MAAO,CAAAjC,UAAU,CAACK,gBAAgB,CAAC,CACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}